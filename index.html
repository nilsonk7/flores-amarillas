<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Flores Amarillas para Ti ðŸ’›</title>
<style>
  :root{ --bg1:#fffbe7; --bg2:#ffe066; --bg3:#f9c74f; --bg4:#f48c06; --txt:#2b2b2b; }

  /* Fondo dinÃ¡mico */
  body{
    margin:0; min-height:100vh; display:flex; flex-direction:column;
    align-items:center; justify-content:center; gap:20px;
    background:linear-gradient(-45deg,var(--bg1),var(--bg2),var(--bg3),var(--bg4));
    background-size:400% 400%; animation:grad 14s ease infinite;
    font-family:"Georgia","Segoe UI",system-ui,sans-serif; overflow:hidden;
  }
  @keyframes grad{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}

  /* Portada para abrir regalo + habilitar audio */
  .cover{
    position:fixed; inset:0; display:grid; place-items:center; z-index:99;
    background:linear-gradient(180deg,rgba(0,0,0,.45),rgba(0,0,0,.25));
    animation:fadeIn .35s ease;
  }
  @keyframes fadeIn { from{opacity:.6} to{opacity:1} }
  .cover-card{
    backdrop-filter:blur(8px);
    background:rgba(255,255,255,.9);
    padding:22px 26px; border-radius:16px; text-align:center;
    color:#222; box-shadow:0 24px 60px rgba(0,0,0,.3);
    animation:pop .25s ease;
  }
  @keyframes pop { from{transform:scale(.96); opacity:.85} to{transform:none; opacity:1} }
  .open-btn{
    margin-top:12px; padding:12px 18px; border-radius:12px; border:1px solid rgba(0,0,0,.12);
    cursor:pointer; background:#fff; font-weight:800; font-size:16px;
    box-shadow:0 10px 28px rgba(0,0,0,.15);
  }
  .hide{ display:none !important; }

  /* Mensaje */
  .card{
    max-width:980px; padding:22px 26px; border-radius:18px;
    background:rgba(255,255,255,0.35); backdrop-filter: blur(6px);
    box-shadow:0 20px 60px rgba(0,0,0,.15);
    filter:blur(14px); opacity:0; transform:scale(1.02);
  }
  .card.show{ animation:focusIn .8s ease forwards .25s; }
  @keyframes focusIn{ to{ filter:blur(0); opacity:1; transform:none; } }
  h1{
    margin:0 0 8px; color:var(--txt); font-weight:700; font-size:clamp(22px,3.2vw,40px);
    text-shadow:1px 1px 6px rgba(0,0,0,.25);
  }
  p{
    margin:0; color:#353535; font-size:clamp(16px,2.1vw,22px); line-height:1.55;
    white-space:pre-line; /* respeta \n */
  }
  .type{ border-right:2px solid #333; white-space:pre-wrap; overflow:hidden; }

  /* Escena con 3 flores */
  .stage{ position:relative; width:min(92vw, 860px); height:min(70vh, 620px); }
  .arreglo{
    position:relative; width:100%; height:100%;
    filter:blur(14px); opacity:0; transform:scale(1.02);
  }
  .arreglo.show{ animation:focusIn .9s ease forwards .35s; }
  .arreglo img{
    position:absolute; user-select:none; pointer-events:none;
    filter: drop-shadow(0 14px 30px rgba(0,0,0,.25));
    animation:sway 6.5s ease-in-out infinite;
  }
  /* Posiciones y tamaÃ±os (ajÃºstalos si quieres) */
  .florA{ width:45%; left:27%; top:8%;  z-index:2; animation-delay:.2s }   /* centro */
  .florB{ width:36%; left:4%;  bottom:2%; transform:rotate(-6deg); z-index:3; animation-delay:.6s } /* izquierda */
  .florC{ width:38%; right:2%; bottom:0;  transform:rotate(5deg);  z-index:1; animation-delay:1s }  /* derecha */
  @keyframes sway{0%,100%{transform:rotate(0)}50%{transform:rotate(2.5deg)}}

  /* PartÃ­culas doradas */
  .spark{ position:fixed; bottom:-12px; width:8px; height:8px; border-radius:50%;
          background:rgba(255,223,0,.9); animation:float 7s linear infinite; }
  @keyframes float{from{transform:translateY(0) scale(1);opacity:1}to{transform:translateY(-110vh) scale(.6);opacity:0}}

  /* Barra de enlace para compartir */
  .sharebar{
    position:fixed; bottom:12px; left:50%; transform:translateX(-50%);
    display:flex; gap:8px; align-items:center;
    background:rgba(255,255,255,.65); backdrop-filter:blur(6px);
    border:1px solid rgba(0,0,0,.08); padding:8px 12px; border-radius:12px;
    box-shadow:0 10px 28px rgba(0,0,0,.18); font-weight:700; z-index:20;
  }
  .sharebar a{ color:#1b1b1b; text-decoration:none }
  .sbtn{
    padding:6px 10px; border-radius:10px; border:1px solid rgba(0,0,0,.1);
    background:#fff; cursor:pointer; font-weight:700;
  }

  @media (max-width:640px){ .stage{ height:58vh } }
</style>
</head>
<body>

  <!-- Portada -->
  <div id="cover" class="cover">
    <div class="cover-card">
      <div style="font-size:18px; font-weight:800; margin-bottom:6px;">ðŸ’› Tengo un regalo para ti</div>
      <div style="opacity:.85">Toca para abrirlo (activa el sonido y las animaciones)</div>
      <button id="openGift" class="open-btn">Abrir regalo</button>
    </div>
  </div>

  <!-- Reproductor (tu pista MP3) -->
  <audio id="bgAudio" loop preload="auto" playsinline>
    <source src="audio/te_robare.mp3" type="audio/mpeg" />
  </audio>

  <!-- Mensaje -->
  <div class="card" id="msgCard">
    <h1>Flores Amarillas para Ti</h1>
    <p id="msj" class="type"></p>
  </div>

  <!-- Escenario visual con tus imÃ¡genes -->
  <div class="stage">
    <div id="arreglo" class="arreglo">
      <!-- Cambia cuÃ¡l va al centro editando los src aquÃ­ -->
      <img class="florA" src="flor3.webp" alt="Flor central"/>
      <img class="florB" src="flor1.webp" alt="Flor izquierda"/>
      <img class="florC" src="flor2.webp" alt="Flor derecha"/>
    </div>
  </div>

  <!-- Barra de enlace (usa el URL real cuando publiques) -->
  <div class="sharebar">
    <a id="shareLink" href="#" target="_blank" rel="noopener noreferrer">htts/flores amaarillas</a>
    <button id="btnShare" class="sbtn">Compartir</button>
    <button id="btnCopy"  class="sbtn">Copiar link</button>
  </div>

<script>
  /* ===== Texto (21/09) ===== */
  const msj = document.getElementById('msj');
  function es21Sept(fecha=new Date()){ const d=fecha.getDate(), m=fecha.getMonth()+1; return d===21 && m===9; }
  function escribir(texto, velocidad=26){
    msj.textContent = "";
    let i = 0;
    const step = () => { msj.textContent += texto.slice(i, i+2); i += 2; if(i < texto.length) setTimeout(step, velocidad); };
    setTimeout(step, 280);
  }
  const texto21 = [
    "ðŸ’› Feliz 21 de Septiembre, amor.",
    "Hoy te regalo un ramo que no se marchita: flores amarillas eternas hechas con cariÃ±o.",
    "Si algÃºn dÃ­a el mundo se apaga, tu sonrisa me vuelve a encender.",
    "Perdona que hoy no haya un ramo fÃ­sico; quise darte algo que puedas abrir siempre que me extraÃ±es.",
    "Promesa firmada: cuando nos veamos, llevo flores reales y un abrazo de larga duraciÃ³n. ðŸŒ¼âœ¨"
  ].join("\\n\\n");
  const textoNormal = [
    "Flores amarillas para ti ðŸŒ¼",
    "Un detalle que no caduca: abre esta pÃ¡gina cuando quieras un rayito de sol."
  ].join("\\n\\n");

  /* ===== PartÃ­culas ===== */
  function particula(){
    const s = document.createElement("div");
    s.className = "spark";
    s.style.left = Math.random()*100 + "vw";
    s.style.animationDuration = (5 + Math.random()*4) + "s";
    document.body.appendChild(s);
    setTimeout(()=>s.remove(), 9000);
  }

  /* ===== Inicio de experiencia ===== */
  const cover = document.getElementById('cover');
  const msgCard = document.getElementById('msgCard');
  const arreglo = document.getElementById('arreglo');
  const bg = document.getElementById('bgAudio');

  async function startExperience(){
    cover.classList.add('hide');           // oculta portada
    msgCard.classList.add('show');         // mensaje blur->foco
    arreglo.classList.add('show');         // flores blur->foco
    escribir(es21Sept() ? texto21 : textoNormal);
    try { bg.volume = 0.8; await bg.play(); } catch(e) { /* si falla, al menos sigue la experiencia */ }
    particula(); setInterval(particula, 240);
  }
  document.getElementById('openGift').addEventListener('click', startExperience);

  /* ===== Barra de enlace ===== */
  const shareA = document.getElementById('shareLink');
  const btnShare = document.getElementById('btnShare');
  const btnCopy  = document.getElementById('btnCopy');

  // Cuando publiques, esto usarÃ¡ el URL real (GitHub Pages, Vercel, Netlify, etc.)
  const realURL = window.location.href;
  shareA.href = realURL;

  btnShare.addEventListener('click', async ()=>{
    if(navigator.share){
      try{ await navigator.share({ title:"Flores Amarillas ðŸ’›", text:"AbrÃ­ mi regalo ðŸŒ¼", url: realURL }); }catch(e){}
    }else{
      try{
        await navigator.clipboard.writeText(realURL);
        btnShare.textContent = "Link copiado âœ…";
        setTimeout(()=>btnShare.textContent="Compartir", 1500);
      }catch(e){}
    }
  });

  btnCopy.addEventListener('click', async ()=>{
    try{
      await navigator.clipboard.writeText(realURL);
      btnCopy.textContent = "Copiado âœ…";
      setTimeout(()=>btnCopy.textContent="Copiar link", 1500);
    }catch(e){}
  });
</script>
</body>
</html>
